<!doctype html>
<html lang="en">
  <head>
    <title>FoodIntoleranceTracker</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Hello, world!</title>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div class="navbar navbar-light bg-light">
      <%= link_to "Home", root_path, class: 'navbar-brand' %>
      <% if logged_in? %>
        <%= link_to "Your Foods", user_foods_path(current_user), class: 'navbar-brand' %>
        <%= link_to "Your Symptoms", user_symptoms_path(current_user), class: 'navbar-brand' %>
        <%= link_to "Sign Out", signout_path, class: 'navbar-brand' %>
      <% end %>
    </div>

    <div>
      <% if flash[:notice].class == String %>
        <p class="alert alert-primary" role="alert">
          <%= flash[:notice] %>
        </p>
      <% elsif flash[:notice].class == Array %>
        <% flash[:notice].each do |notice| %>
          <p class="alert alert-primary" role="alert">
            <%= notice %>
          </p>
        <% end %>
      <% end %>
      <% if flash[:warning] %>
        <p class="alert alert-warning" role="alert">
          <%= flash[:warning] %>
        </p>
      <% end %>
    </div>

    <%= yield %>
  </body>
</html>
